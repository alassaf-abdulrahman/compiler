<program>           ::= <command_list>

<command_list>      ::= <command> ";" <command_list>  
                      | <control_command> <command_list>  
                      | ε  

<command>           ::= <simple_command> | <control_command>

<simple_command>    ::= <basic_command> <schedule>?

<basic_command>     ::= "OPEN" <open_task>
                      | "CLOSE" <open_task>
                      | "TURNON" <turn_task>
                      | "TURNOFF" <turn_task>

<control_command>   ::= <if_matched> 

<schedule>          ::= "AT" <time> | "IN" <duration>

<if_matched>        ::= "IF" <condition> "{" <command_list> "}" <else_block>

<else_block>        ::= "ELSE" "{" <command_list> "}" 
                      | ε  

<condition>         ::= <open_task> "IS" <open_state>
                      | <turn_task> "IS" <turn_state>

<open_task>         ::= "DOOR" | "WINDOW"
<turn_task>         ::= "LIGHT" | "WIFI" | "AIRCOND"

<open_state>        ::= "OPENED" | "CLOSED"
<turn_state>        ::= "ON" | "OFF"


<time>              ::= TIME  # Tokenized as (e.g., "2359")
<duration>          ::= DURATION  # Tokenized as (e.g., "60M")